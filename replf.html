<div style="background-color:tan;" ><p><span style ="color:green;">#include</span> <Wire.h></br><span style ="color:green;">#include</span> <RtcDS3231.h></br> </br><span style ="color:crimson;">const</span> <span style ="color:crimson;">byte</span> <span style ="color:blue;">interruptPin</span> = 13;</br>volatile bool alarm = 0;</br> </br>RtcDS3231<TwoWire> rtcObject(Wire);</br> </br><span style ="color:crimson;">void</span> setup() {</br> </br>  Serial.<span style ="color:olivegreen;">begin</span>(115200);</br> </br>  pinMode(<span style ="color:blue;">interruptPin</span>, INPUT_PULLUP);</br>  attachInterrupt(digitalPinToInterrupt(<span style ="color:blue;">interruptPin</span>),<span style ="color:olivegreen;"> handleInterrupt</span>, FALLING);</br> </br>  rtcObject.Begin();</br> </br>  RtcDateTime timestamp = RtcDateTime(__DATE__, __TIME__);</br>  rtcObject.SetDateTime(timestamp);</br> </br>  rtcObject.Enable32kHzPin(false);</br>  rtcObject.SetSquareWavePin(DS3231SquareWavePin_ModeAlarmOne);</br> </br>  DS3231AlarmOne alarm1(</br>    0,</br>    0,</br>    0,</br>    0,</br>    DS3231AlarmOneControl_OncePerSecond);</br> </br>  rtcObject.SetAlarmOne(alarm1);</br>  rtcObject.LatchAlarmsTriggeredFlags();</br> </br>}</br> </br><span style ="color:crimson;">void</span> loop() {</br> </br>  if (alarm == true) {</br>    handleAlarm();</br>  }</br> </br>}</br> </br><span style ="color:crimson;">void</span> handleAlarm() {</br>  alarm = false;</br> </br>  RtcDateTime timestamp = rtcObject.GetDateTime();</br> </br>  Serial.print("time interrupt at: ");</br>  char time[10];</br> </br>  sprintf(time, "%d:%d:%d",</br>          timestamp.Hour(),</br>          timestamp.Minute(),</br>          timestamp.Second()</br>         );</br>  Serial.println(time);</br> </br>  rtcObject.LatchAlarmsTriggeredFlags();</br> </br>}</br> </br><span style ="color:crimson;">void</span><span style ="color:olivegreen;"> handleInterrupt</span>() {</br>  alarm = true;</br>}</p></div>